---
import Layout from '../layouts/Layout.astro';
import ServerErrorPage from '../components/ServerErrorPage.vue';
import ScriptPage from '../components/ScriptPage.vue';

// Skip server-side health check in production builds
// Client-side checks will be handled by individual components
let serverHealthy = true;
let serverError = '';

// For development, you can uncomment this to test server connectivity:
// const apiUrl = import.meta.env.PUBLIC_API_URL || 'http://localhost:3000';
// console.log("Starting health check for:", apiUrl);
---

<Layout title="Amnesiac - Blood on the Clocktower">
  {
    !serverHealthy ? (
      <ServerErrorPage errorMessage={serverError} client:load />
    ) : (
      <ScriptPage client:load />
    )
  }
</Layout>
